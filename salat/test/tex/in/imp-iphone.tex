\documentclass[10pt,oneside,openany]{book}
\usepackage[papersize={50mm,75mm},top=2mm,bottom=6mm,left=2mm,right=2mm]{geometry}
\usepackage{amsmath}
\usepackage{fncychap}
\usepackage{ifthen}
\usepackage{longtable}
\ChNameUpperCase
\ChTitleUpperCase
\ChNameVar{\vspace{-40pt}\centering}
\ChNumVar{\centering}
\ChTitleVar{\vspace{-20pt}\centering\bfseries\large}
\usepackage{enumitem}
%\chapterfont{\vspace{-14pt}\centering\large\bfseries}
\usepackage{tocloft}
\renewcommand{\cfttoctitlefont}{\vspace{-20pt}\bfseries\large\hfill}
\renewcommand{\cftaftertoctitle}{\hfill}
\renewcommand{\contentsname}{CONTENTS}
\usepackage{wrapfig}
\usepackage{ulem}
\usepackage{multicol}
\usepackage{marginnote}
\usepackage[protrusion=false,kerning=true]{microtype}
\usepackage{hanging}
\usepackage[fulloldstylenums]{kpfonts}
%\usepackage[T1]{fontenc}
%\usepackage[utopia]{mathdesign}
\usepackage{tikz}
\usepackage[hyperfootnotes=false]{hyperref}
\hypersetup{colorlinks=true, linkcolor=blue, bookmarksnumbered=true, pdfauthor=Bertrand Russell, pdftitle=Introduction to Mathematical Philosophy, pdfcreator=Kevin C. Klement, pdfsubject=Philosophy}
%
% Typical LaTeX title and author, though these aren't actually used anywhere
\title{Introduction to Mathematical Philosophy}
\author{Bertrand Russell}
\date{London: George Allen \& Unwin, Ltd. May 1919.\\ Second Edition April 1920.}
%
%
% Basic paragraph types
% -- normal paragraph
\setlength{\parindent}{1em}
\newcommand{\kkparagraph}[1]{

#1}
% -- Hanging display
\newcommand{\kkdisplay}[1]%
{\begin{description}[noitemsep,labelindent=0em,leftmargin=1.5em,rightmargin=0em]
  \item #1
 \end{description}
}
% -- Index entry
\newcommand{\kkie}[1]{

\hangpara{1em}{1} #1}
%
% Original page counter
\newcounter{origpage}
\setcounter{origpage}{4}
\renewcommand{\theorigpage}{\roman{origpage}}
\renewcommand{\chaptermark}[1]{}
\renewcommand{\sectionmark}[1]{}
%
% Page number markers; anchors for links
\newcommand{\kkpageindicate}[2]{\hypertarget{#2}{\ensuremath{\textcolor{red}{\mathbf{\vert}}}}\markboth{\theorigpage}{\theorigpage}\addtocounter{origpage}{1}\markboth{#1}{#1}}
% Page indicators at start of chapter
\newcommand{\kkpageindicatechapstart}[3]{\markboth{\theorigpage}{\theorigpage}\addtocounter{origpage}{1}\markboth{#1}{#1}\hypertarget{#2}{#3}}
% Page indicators at end of paragraph/beginning of next
\newcommand{\kkpnoteonly}[2]{\markboth{\theorigpage}{\theorigpage}\addtocounter{origpage}{1}\markboth{#1}{#1}{\hypertarget{#2}{\vphantom{x}}}}
\newcommand{\kkpmarkonly}{\ensuremath{\textcolor{red}{\mathbf{\vert}}}}
%
% For use if the version has hyperlinks
\newcommand{\kklinked}[1]{#1}
%
% Commands used only in certain versions
\newcommand{\ltronly}[1]{}    % Letter version only; unused
\newcommand{\lxonly}[1]{}       % two sided letter version only; unused
\newcommand{\afouronly}[1]{}    % One sided A4 version only; unused
\newcommand{\aftonly}[1]{}      % Two sided A4 version only; unused
\newcommand{\ebkonly}[1]{}      % Ebook size only; unused 
\newcommand{\iphoneonly}[1]{#1}   % iPhone size only; used
%
% Commands used in all but certain versions
\newcommand{\allbutaf}[1]{#1}
\newcommand{\allbutiphone}[1]{}
%
\newlength{\titlepagetop}
\setlength{\titlepagetop}{5pt}
\newlength{\titlepageby}
\setlength{\titlepageby}{5pt}
\newlength{\titlepagemiddle}
\setlength{\titlepagemiddle}{16pt}
%
%
\newcommand{\figone}{%
%\begin{wrapfigure}[11]{l}{2in}
\begin{center}
\begin{tikzpicture}
\usetikzlibrary{calc}
\pgfsetarrows{latex-latex};
\pgfsetarrowsend{latex};
\path node (z) at (0.7,-2.2) [shape=circle,inner sep=1pt,outer sep=4pt,fill,label=below:$z$] {}
      node (w) at (3.7,-2.2) [shape=circle,inner sep=1pt,outer sep=4pt,fill,label=below:$w$] {}
      node (x) at (0.7,-0.5) [shape=circle,inner sep=1pt,outer sep=4pt,fill,label={[label distance=-3pt]above:$x\vphantom{y}$}] {}
      node (y) at (3.7,-0.5) [shape=circle,inner sep=1pt,outer sep=4pt,fill,label={[label distance=-3pt]above:$y$}] {};
\draw[->,thick,>=stealth] (z) to (w);
\draw[->,thick,>=stealth] (x) to (z);
\draw[->,thick,>=stealth] (y) to (w);
\draw[->,thick,>=stealth] (x) to (y);
\node[label=below:Q] (q) at ($(z)!.5!(w)$) {};
\node[outer sep=4pt,label={[label distance=-3pt]above:P}] (p) at ($(x)!.5!(y)$) {};
\node[label=left:S] (p) at ($(x)!.5!(z)$) {};
\node[label=right:S] (p) at ($(w)!.5!(y)$) {};
\end{tikzpicture}
%\end{wrapfigure}
\end{center}
}
%
\newcommand{\figtwo}{%
%\begin{wrapfigure}[13]{l}{1.55in}
\begin{center}\begin{tikzpicture}
\path node (d) at (1.1,-2.3) [shape=circle,inner sep=1pt,outer sep=4pt,fill,label=below:$d$] {}
      node (c) at (4.3,-2.3) [shape=circle,inner sep=1pt,outer sep=4pt,fill,label=below:$c$] {} 
      node (a) at (1.1,-0.3) [shape=circle,inner sep=1pt,outer sep=4pt,fill,label=above:$a$] {}
      node (b) at (4.3,-0.3) [shape=circle,inner sep=1pt,outer sep=4pt,fill,label=above:$b$] {}
      node (e) at (2.7,-3.8) [shape=circle,inner sep=1pt,outer sep=4pt,fill,label=below:$e$] {};
\draw[->,thick,>=stealth] (a) to (b);
\draw[->,thick,>=stealth] (a) to (c);
\draw[->,thick,>=stealth] (a) to (d);
\draw[->,thick,>=stealth] (b) to (c);
\draw[->,thick,>=stealth] (c) to (e);
\draw[->,thick,>=stealth] (d) to (c);
\draw[->,thick,>=stealth] (d) to (e);
\end{tikzpicture}\end{center}%
%\end{wrapfigure}
}
\newcommand{\funkytable}{
\makebox[1.6cm][r]{${\aleph_0}^n$}\ =\ $\aleph_0$, where\\
$n$ is any inductive number.\\
(This follows from\\
\makebox[1.6cm][r]{${\aleph_0}^2$}\ =\ $\aleph_0$\\
by induction; for if\\
\makebox[1.6cm][r]{${\aleph_0}^n$}\ =\ $\aleph_0,$\\
then\\
\makebox[1.6cm][r]{${\aleph_0}^{n+1}$}\ =\ ${\aleph_0}^2 = \aleph_0.)$ \\
\makebox[1.6cm][s]{But $2^{\aleph_0}$}\ $>$\ $\aleph_0$.\bigskip \\}
\emergencystretch=11pt
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{fancyhdr}
%\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{.2pt}
\lfoot{\raisebox{12pt}{\footnotesize\thepage}}
\newcommand{\kkmarks}{
  \ifthenelse{\equal{\leftmark}{\rightmark}}
    {(original page \leftmark)} % if equal
    {(original pages \rightmark--\leftmark)}} % if not equal
\rfoot{\textit{\raisebox{12pt}{\footnotesize\kkmarks}}}
\fancypagestyle{plain}{
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{.2pt}
\lfoot{\raisebox{12pt}{\footnotesize\thepage}}
\rfoot{\textit{\raisebox{12pt}{\footnotesize(original page \leftmark)}}}
}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
%
\input{imp-core}
